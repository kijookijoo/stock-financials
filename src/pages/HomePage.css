.home-container {
  --nav-clearance: 58px;
  --heatmap-scale: 0.56;
  --heatmap-row-count: 20;
  --lux-bg-0: #0a0b0d;
  --lux-bg-1: #111318;
  --lux-bg-2: #171a20;
  --lux-border: rgba(232, 228, 213, 0.16);
  --lux-border-strong: rgba(218, 199, 146, 0.34);
  --lux-text: #ebe7de;
  --lux-text-muted: #b8b1a2;
  --lux-accent: #c5ac6b;
  margin-top: var(--nav-clearance);
  width: 100%;
  height: calc(100vh - var(--nav-clearance));
  padding: 0;
  color: var(--lux-text);
  overflow-y: auto;
  overflow-x: hidden;
  background:
    radial-gradient(1100px 700px at 18% -10%, rgba(197, 172, 107, 0.09), transparent 62%),
    linear-gradient(180deg, var(--lux-bg-2) 0%, var(--lux-bg-1) 54%, var(--lux-bg-0) 100%);
}

.home-header {
  margin-bottom: 1.2rem;
  padding: 1.2rem 1.3rem;
  border-radius: 16px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  background:
    radial-gradient(circle at 20% 0%, rgba(255, 255, 255, 0.08), transparent 60%),
    rgba(255, 255, 255, 0.03);
}

.home-header h1 {
  margin: 0;
  font-size: 1.9rem;
  font-weight: 700;
  letter-spacing: 0.02em;
}

.home-header p {
  margin: 0.55rem 0 0;
  color: #a7b1bb;
  font-size: 0.96rem;
}

.sectors-heatmap {
  display: grid;
  grid-template-columns: repeat(24, minmax(0, 1fr));
  grid-auto-rows: calc(52px * var(--heatmap-scale));
  grid-auto-flow: row dense;
  gap: 0;
  min-height: max-content;
  padding: 0 calc(0.45rem * var(--heatmap-scale));
}

.sector-block {
  position: relative;
  grid-column: var(--sector-col-start, auto) / span var(--sector-col-span, 8);
  grid-row: var(--sector-row-start, auto) / span var(--sector-row-span, 7);
  min-height: 0;
  border-radius: 16px;
  border: 1px solid var(--lux-border);
  background: linear-gradient(160deg, #14171d 0%, #0f1116 100%);
  box-shadow:
    0 16px 34px rgba(0, 0, 0, 0.42),
    inset 0 1px 0 rgba(255, 255, 255, 0.03);
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.sector-heading {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  padding: 0.55rem 0.65rem;
  border-bottom: 1px solid rgba(232, 228, 213, 0.08);
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0));
}

.sector-heading h2 {
  margin: 0;
  font-size: 0.88rem;
  text-transform: uppercase;
  letter-spacing: 0.12em;
  color: var(--lux-text-muted);
  font-weight: 650;
}

.company-heatmap-grid {
  flex: 1;
  min-height: 0;
  padding: 0;
  display: grid;
  grid-template-columns: repeat(var(--company-cols, 12), minmax(0, 1fr));
  grid-template-rows: repeat(var(--company-rows, 10), minmax(0, 1fr));
  gap: 0;
  align-content: start;
}

.heatmap-tile {
  position: relative;
  grid-column: var(--tile-col-start, auto) / span var(--tile-col-span, 2);
  grid-row: var(--tile-row-start, auto) / span var(--tile-row-span, 1);
  --tile-scale: calc(var(--panel-scale, 1) * var(--sector-scale, 1) * var(--heatmap-scale));
  min-height: 0;
  border: 1px solid rgba(232, 228, 213, 0.1);
  border-radius: 12px;
  padding: 0.3rem;
  color: var(--lux-text);
  text-align: center;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: linear-gradient(180deg, #1a1d24 0%, #11141a 100%);
  transition: border-color 0.2s ease, filter 0.2s ease, box-shadow 0.2s ease;
  font-family: inherit;
  overflow: hidden;
}

.heatmap-tile:hover {
  border-color: var(--lux-border-strong);
  filter: brightness(1.02);
  box-shadow: inset 0 0 0 1px rgba(197, 172, 107, 0.18);
}

.heatmap-tile::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0;
  transform: translateX(-145%);
  background: linear-gradient(
    120deg,
    rgba(197, 172, 107, 0) 26%,
    rgba(197, 172, 107, 0.14) 50%,
    rgba(197, 172, 107, 0) 74%
  );
  transition: transform 0.62s ease-out, opacity 0.16s ease-out;
}

.heatmap-tile:hover::after,
.heatmap-tile:focus-visible::after {
  opacity: 1;
  transform: translateX(140%);
}

.tile-ticker {
  font-size: clamp(0.7rem, calc(0.62rem + (0.38rem * var(--tile-scale, 1))), 1.24rem);
  font-weight: 700;
  letter-spacing: 0.06em;
  line-height: 1;
  color: #f1eee6;
  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.28);
}

.tile-center {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: clamp(0.12rem, calc(0.08rem + (0.12rem * var(--tile-scale, 1))), 0.3rem);
  min-width: 0;
}

.tile-logo {
  width: clamp(23px, calc(29px * var(--tile-scale, 1)), 68px);
  height: clamp(23px, calc(29px * var(--tile-scale, 1)), 68px);
  object-fit: contain;
  border-radius: 7px;
  background: rgba(255, 255, 255, 0.04);
  border: 1px solid rgba(232, 228, 213, 0.09);
  padding: 0.15rem;
}

@media (min-width: 1101px) {
  .sectors-heatmap {
    height: 100%;
    min-height: 0;
    grid-auto-rows: calc(100% / var(--heatmap-row-count));
  }
}

@media (max-width: 1100px) {
  .sectors-heatmap {
    grid-template-columns: repeat(12, minmax(0, 1fr));
    grid-auto-rows: calc(52px * var(--heatmap-scale));
  }

  .sector-block {
    grid-column: auto / span 12;
    grid-row: auto / span 7;
  }

  .company-heatmap-grid {
    grid-template-columns: repeat(12, minmax(0, 1fr));
    grid-template-rows: repeat(10, minmax(0, 1fr));
  }
}

@media (max-width: 780px) {
  .home-container {
    --nav-clearance: 55px;
    --heatmap-scale: 1;
    margin-top: var(--nav-clearance);
    height: calc(100vh - var(--nav-clearance));
    padding: 0;
  }

  .sectors-heatmap {
    grid-template-columns: repeat(1, minmax(0, 1fr));
    grid-auto-rows: minmax(280px, auto);
    min-height: max-content;
    padding: 0.35rem;
  }

  .sector-block {
    grid-column: auto / span 1;
    grid-row: auto / span 1;
  }

  .company-heatmap-grid {
    grid-template-columns: repeat(8, minmax(0, 1fr));
    grid-auto-rows: 24px;
  }

  .heatmap-tile {
    grid-column: span 4;
    grid-row: span 4;
    min-height: 0;
    padding: 0.3rem;
  }

  .tile-logo {
    width: 36px;
    height: 36px;
  }
}
